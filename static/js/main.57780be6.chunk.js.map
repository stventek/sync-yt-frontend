{"version":3,"sources":["components/join-card/join-card.tsx","utilities/socket.ts","components/create-card/create-card.tsx","views/home/home.tsx","components/navbar/styles.tsx","components/navbar/navbar.tsx","utilities/validate-yt-url.ts","utilities/ms-to-time.ts","components/player/player-controls.tsx","utilities/player-fix.ts","components/player/player.tsx","views/room/dialog.tsx","components/chat/messages.tsx","components/chat/chat.tsx","views/room/room.tsx","App.tsx","index.tsx"],"names":["useStyles","makeStyles","theme","formItems","marginTop","spacing","withRouter","props","classes","useState","room","state","setState","Card","CardContent","Typography","gutterBottom","variant","component","action","onSubmit","e","preventDefault","history","push","TextField","name","id","label","size","fullWidth","className","onChange","event","target","value","Button","color","type","socket","io","on","console","log","emit","root","marginBottom","Home","useEffect","localStorage","getItem","setItem","Math","floor","random","align","Container","maxWidth","Grid","container","direction","justify","item","xs","title","display","breakpoints","up","linkTitle","textDecoration","search","marginRight","position","borderRadius","shape","backgroundColor","fade","palette","common","white","width","margin","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","NavBar","url","Toolbar","style","AppBar","noWrap","to","InputBase","onKeyUp","keyCode","videoId","result","match","validateVideoURL","placeholder","input","inputProps","IconButton","msToTime","s","secs","mins","hrs","slice","ValueLabelComponent","children","open","Tooltip","enterTouchDelay","placement","controllsContainer","playButton","vidBar","PlayerControls","time","timeDisplay","interval","setInterval","player","getCurrentTime","then","millisec","clearInterval","Paper","square","Slider","onChangeCommitted","min","max","end","valueLabelDisplay","valueLabelFormat","x","onClick","pause","getDuration","Promise","resolve","a","duration","pauseVideo","seekTo","start","started","Date","getTime","flexGrow","down","playerWrapper","paddingTop","reactPlayer","top","left","Player","setPlayer","playerMeta","setPlayerMeta","YouTubePlayer","loadVideoById","playerInfo","timeElapsed","playVideo","off","AlertDialog","Dialog","onClose","handleClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","wordWrap","overflowY","Messages","React","memo","messages","setMessages","scrollRef","useRef","current","scrollIntoView","behavior","message","length","newMessages","shift","map","index","Box","fontWeight","author","ref","chatControls","paddingBottom","typeMessage","chat","flexDirection","marginLeft","Chat","sendDisabled","Hidden","smDown","lineHeight","Divider","substr","multiline","rowsMax","textAlign","disabled","maxWithXl","gridContainer","Room","setOpen","params","status","maxWidthXl","App","CssBaseline","exact","path","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57780be6.chunk.js","sourcesContent":["import Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport { withRouter } from 'react-router';\r\nimport { useState } from 'react';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n    return {\r\n        formItems: {\r\n            marginTop: theme.spacing(2)\r\n        }\r\n    }\r\n})\r\n\r\nfunction JoinCard(props: any){\r\n    const classes = useStyles();\r\n\r\n    const [state, setState] = useState({room: ''});\r\n\r\n    const handleSubmit = (e : any) => {\r\n        e.preventDefault();\r\n        props.history.push(`/room/${state.room}`);\r\n    }\r\n\r\n    const handleInputChange = (event : any) => {\r\n        setState({\r\n          ...state,\r\n          [event.target.name]: event.target.value\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Card>\r\n                <CardContent>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        Join a room\r\n                    </Typography>\r\n                    <form action=\"\" onSubmit={handleSubmit}>\r\n                        <TextField name=\"room\" id=\"outlined-basic\" label=\"Code\" variant=\"outlined\" size=\"small\" fullWidth className={classes.formItems} onChange={handleInputChange}/>\r\n                        <Button variant=\"contained\" color=\"primary\" fullWidth className={classes.formItems} type=\"submit\">\r\n                            Join\r\n                        </Button>\r\n                    </form>\r\n                </CardContent>\r\n            </Card>\r\n\r\n        </div>)\r\n}\r\n\r\nexport default withRouter(JoinCard);\r\n","import io from 'socket.io-client';\r\n\r\nconst socket = io('https://sync-yt-backend.herokuapp.com/');\r\n\r\nsocket.on('connect', () => {\r\n    console.log('connection established');\r\n})\r\n\r\nexport default socket;\r\n","import Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport socket from '../../utilities/socket';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n    return {\r\n        formItems: {\r\n            marginTop: theme.spacing(2)\r\n        }\r\n    }\r\n});\r\n\r\nfunction CreateCard(props: any){\r\n    const classes = useStyles();\r\n\r\n    const handleSubmit = (e : any) => {\r\n        e.preventDefault();\r\n        socket.emit('create-room', (room: number) => {\r\n            props.history.push(`/room/${room}`);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Card>\r\n                <CardContent>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        Create a room\r\n                    </Typography>\r\n                    <form action=\"\" onSubmit={handleSubmit}>\r\n                        <Button variant=\"contained\" color=\"primary\" fullWidth className={classes.formItems} type=\"submit\">\r\n                            Create\r\n                        </Button>\r\n                    </form>\r\n                </CardContent>\r\n            </Card>\r\n        </div>)\r\n}\r\n\r\nexport default withRouter(CreateCard);\r\n","import JoinCard from '../../components/join-card/join-card';\r\nimport CreateCard from '../../components/create-card/create-card';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {useEffect} from 'react';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n    return {\r\n        root: {\r\n            marginTop: theme.spacing(8),\r\n            marginBottom: theme.spacing(4)\r\n        }\r\n    }\r\n});\r\n\r\nexport default function Home(){\r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem('username') === null)\r\n            localStorage.setItem('username', `anonymous${Math.floor(Math.random() * 10000)}`)\r\n    }, []);\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <Typography align=\"center\" variant=\"h4\" className={classes.root} component=\"h1\">Watch videos together</Typography>\r\n            <Container maxWidth=\"xs\">\r\n                <Grid container direction=\"column\" spacing={2} justify=\"center\">\r\n                    <Grid item xs={12}><JoinCard/></Grid>\r\n                    <Grid item xs={12}><CreateCard/></Grid>\r\n                </Grid>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import { fade, makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('sm')]: {\r\n        display: 'block',\r\n      },\r\n    },\r\n    linkTitle: {\r\n      color: \"inherit\",\r\n      textDecoration: \"none\"\r\n    },\r\n    search: {\r\n      marginRight: theme.spacing(2),\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        margin: \"auto\",\r\n        width: 350\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '20ch',\r\n      },\r\n    }\r\n  }));\r\n\r\nexport default useStyles;\r\n","import AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport socket from '../../utilities/socket';\r\nimport { useState } from 'react';\r\nimport useStyles from './styles';\r\nimport { Link } from 'react-router-dom';\r\nimport validateVideoURL from '../../utilities/validate-yt-url';\r\n\r\nexport default function NavBar(props : {room: string}) {\r\n  const classes = useStyles();\r\n\r\n  const [state, setState] = useState({url:\"\"} );\r\n\r\n  const handlePlay = (e: any) => {\r\n    if(e.keyCode === 13){\r\n      e.preventDefault();\r\n      const videoId = validateVideoURL(state.url);\r\n      if(videoId === null)\r\n        return console.log(\"invalid video url\");\r\n      socket.emit('play', props.room, videoId);\r\n    }\r\n  }\r\n  \r\n  const handleInputChange = (event : any) => {\r\n    setState({\r\n      ...state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n};\r\n\r\n  return (\r\n    <div>\r\n      <Toolbar style={{height: 64}}/>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar style={{height: 64}}>\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            <Link to=\"/\" className={classes.linkTitle}>Sync YT</Link>\r\n          </Typography>\r\n            <div className={classes.search}>\r\n              <div className={classes.searchIcon}>\r\n                <SearchIcon />\r\n              </div>\r\n                <InputBase\r\n                  name=\"url\"\r\n                  onChange={handleInputChange}\r\n                  onKeyUp={handlePlay}\r\n                  placeholder=\"URL\"\r\n                  classes={{\r\n                    root: classes.inputRoot,\r\n                    input: classes.inputInput,\r\n                  }}\r\n                  inputProps={{ 'aria-label': 'search' }}\r\n                />\r\n            </div>\r\n          <IconButton color=\"inherit\">\r\n            <SettingsIcon/>\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","export default function validateVideoURL(url: string){\r\n    const result = url.match(/(?:https?:\\/{2})?(?:w{3}\\.)?youtu(?:be)?\\.(?:com|be)(?:\\/watch\\?v=|\\/)([^\\s&]+)/);\r\n    if(result)\r\n      return result[1];\r\n    return null;\r\n};\r\n","export default function msToTime(s: number) {\r\n    var ms = s % 1000;\r\n    s = (s - ms) / 1000;\r\n    var secs = s % 60;\r\n    s = (s - secs) / 60;\r\n    var mins = s % 60;\r\n    var hrs = (s - mins) / 60;\r\n    if(hrs > 0)\r\n        return hrs + ':' + mins + ':' + ('0' + secs).slice(-2);\r\n    else if(mins > 0)\r\n        return mins + ':' + ('0' + secs).slice(-2);\r\n    return ('0' + secs).slice(-2);\r\n}\r\n","import Paper from '@material-ui/core/Paper';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport socket from '../../utilities/socket';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport msToTime from '../../utilities/ms-to-time';\r\n\r\nfunction ValueLabelComponent(props: any) {\r\n    const { children, open, value } = props;\r\n  \r\n    return (\r\n      <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\r\n        {children}\r\n      </Tooltip>\r\n    );\r\n  }\r\n\r\ntype controlsProps = {\r\n    end: number,\r\n    player: any,\r\n    room: string,\r\n    pause: boolean\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    controllsContainer: {\r\n        height: 85,\r\n        padding: theme.spacing(1),\r\n    },\r\n    playButton: {\r\n        padding: theme.spacing(1),\r\n    },\r\n    vidBar: {\r\n        padding: theme.spacing(1, 0)\r\n    }\r\n}));\r\n\r\n\r\nexport default function PlayerControls(props: controlsProps){\r\n\r\n    const [state, setState] = useState({time: 0, timeDisplay: \"\"});\r\n    const classes = useStyles();\r\n\r\n    //takes player current time and sync it with the slider\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            props.player.getCurrentTime().then((time : any) => {\r\n                const millisec = time * 1000;\r\n                setState({...state, time: millisec, timeDisplay: msToTime(millisec)});\r\n            })\r\n        }, 100);\r\n        return () => {\r\n            clearInterval(interval);\r\n        };\r\n    },[])\r\n\r\n    const handleToggle = (e: any) => {\r\n        if(props.pause)\r\n            socket.emit('resume', props.room);\r\n        else\r\n            socket.emit('pause', props.room);\r\n    };\r\n\r\n    const handleSeekTo = (e: any, value: number | number[]) => {\r\n        socket.emit('seekTo', props.room, value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Paper variant=\"outlined\" square className={classes.controllsContainer}>\r\n                <Slider className={classes.vidBar} value={state.time} onChangeCommitted={handleSeekTo} color=\"secondary\" ValueLabelComponent={ValueLabelComponent} min={0} max={props.end} valueLabelDisplay=\"auto\" valueLabelFormat={x => msToTime(x)}/>\r\n                <IconButton className={classes.playButton} onClick={handleToggle}>\r\n                    {props.pause ? <PlayArrowIcon/> : <PauseIcon/>}\r\n                </IconButton>\r\n                <Typography variant=\"body2\" component=\"span\">{state.timeDisplay} / {msToTime(props.end)}</Typography>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","export function getDuration(player: any, pause: boolean){\r\n    return new Promise<number>((resolve) => {\r\n        const interval = setInterval(async()=> {\r\n            const duration: number = await player.getDuration();\r\n            if(duration > 0){\r\n                if(pause)\r\n                    player.pauseVideo();\r\n                clearInterval(interval);\r\n                resolve(duration * 1000);\r\n            }\r\n        }, 50);\r\n    })\r\n};\r\n\r\nexport function seekTo(player: any, start: number){\r\n    const started = new Date()\r\n    return new Promise<void>((resolve) => {\r\n        const interval = setInterval(async()=> {\r\n            const duration: number = await player.getDuration();\r\n            if(duration > 0){\r\n                player.seekTo((0.2 + start + (new Date().getTime() - started.getTime())) * 1/1000); \r\n                resolve();\r\n                clearInterval(interval);\r\n            }\r\n        }, 50);\r\n    })\r\n}\r\n","import PlayerControls from \"./player-controls\";\r\nimport YouTubePlayer from \"youtube-player\";\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport {useEffect} from 'react';\r\nimport socket from '../../utilities/socket';\r\nimport { useState } from \"react\";\r\nimport { getDuration, seekTo } from \"../../utilities/player-fix\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        flexGrow: 1,\r\n        [theme.breakpoints.down('sm')]: {\r\n\r\n        }\r\n    },\r\n    playerWrapper: {\r\n        position: 'relative',\r\n        paddingTop: '56.25%'\r\n    },\r\n    reactPlayer: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0\r\n    }\r\n}));\r\n\r\ntype PlayerMeta = {start: number, end: number, pause: boolean};\r\n\r\nexport default function Player(props: {room: string}){\r\n    const classes = useStyles();\r\n    const [player, setPlayer] = useState<any>(null);\r\n    const [playerMeta, setPlayerMeta] = useState<PlayerMeta>({start: 0, end: 0, pause: true});\r\n\r\n    useEffect(() => {\r\n        //type declaration files are wrong, thus the type of any\r\n        const player: any = YouTubePlayer('youtube-player', {height:'100%', width:'100%'});\r\n        setPlayer(player);\r\n\r\n        socket.on('play-recive', (videoId: string) => {\r\n            setPlayer((player: any) => {\r\n                player.loadVideoById(videoId);\r\n                getDuration(player, false).then(end => setPlayerMeta(state => ({...state, end, start: 0, pause: false})));\r\n                return player;\r\n                }\r\n            )\r\n        })\r\n\r\n        socket.on('update', ( playerInfo : {videoId: string, timeElapsed: number, pause: boolean}) => {\r\n            setPlayer((player: any) => {\r\n                player.loadVideoById(playerInfo.videoId);\r\n                seekTo(player, playerInfo.timeElapsed);\r\n                getDuration(player, playerInfo.pause).then(end => {\r\n                    setPlayerMeta(state => ({...state, start: playerInfo.timeElapsed, end, pause: playerInfo.pause}));\r\n                })\r\n                return player;\r\n            })\r\n        });\r\n\r\n        socket.on('pause-recive', () => {\r\n            player.pauseVideo();\r\n            setPlayerMeta(state => ({...state, pause: true}));\r\n        });\r\n\r\n        socket.on('resume-recive', (timeElapsed) => {\r\n            setPlayer((player: any) => {\r\n                player.playVideo();\r\n                seekTo(player, timeElapsed);\r\n                setPlayerMeta(state => ({...state, start: timeElapsed, pause: false}));\r\n                return player;\r\n            })\r\n        });\r\n\r\n        socket.on('seekTo-recive', (timeElapsed: number) => {\r\n            setPlayer((player: any) => {\r\n                seekTo(player, timeElapsed);\r\n                setPlayerMeta(state => ({...state, start: timeElapsed}));\r\n                return player;\r\n            })\r\n        })\r\n\r\n        return () => {\r\n            socket.off('play-recive');\r\n            socket.off('update');\r\n            socket.off('pause-recive');\r\n            socket.off('resume-recive');\r\n            socket.off('seekTo-recive');\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={classes.playerWrapper}>\r\n                <div id=\"youtube-player\" className={classes.reactPlayer}/>\r\n            </div>\r\n            {player ? <PlayerControls pause={playerMeta.pause} room={props.room} player={player} end={playerMeta.end}/> : null}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog(props: {handleClose: () => void, open: boolean}) {\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Error</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Room was not found, make sure it is the right code.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import { Typography } from \"@material-ui/core\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nimport socket from \"../../utilities/socket\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        wordWrap: 'break-word',\r\n        flexGrow: 1,\r\n        overflowY: 'auto',\r\n        padding: theme.spacing(1,2)\r\n    }\r\n}));\r\n\r\ntype message = {message: string, author: string};\r\n\r\nconst Messages = React.memo((props : {room: string}) => {\r\n    const classes = useStyles();\r\n    const [messages, setMessages] = useState<message[]>([]);\r\n    const scrollRef = useRef<any>(null);\r\n\r\n    useEffect(() => {\r\n        if(scrollRef)\r\n            scrollRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    }, [messages]);\r\n\r\n    useEffect(() => {\r\n        socket.on('message-recive', (message: message) => {\r\n            console.log('recived');\r\n            if(messages.length > 49){\r\n                const newMessages = [...messages];\r\n                newMessages.push(message)\r\n                newMessages.shift();\r\n                return setMessages(newMessages);\r\n            }\r\n            setMessages(messages => [...messages, message]);\r\n        });\r\n\r\n        socket.on('join-chat', (messages: message[]) => {\r\n            setMessages(messages);\r\n        })\r\n        return () => {\r\n            socket.off('message-recive');\r\n        }\r\n    });\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            {messages.map((message, index) => {\r\n                return (\r\n                    <div key={index}>\r\n                        <Typography variant=\"body1\" component=\"span\" color=\"primary\">\r\n                            <Box fontWeight={700} component=\"span\">{message.author}: </Box>\r\n                        </Typography>\r\n                        <Typography variant=\"body1\" component=\"span\">{message.message}</Typography>\r\n                    </div>\r\n                )\r\n            })}\r\n            <div ref={scrollRef}/>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Messages;\r\n","import { makeStyles, Paper } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { useState } from \"react\";\r\nimport Messages from \"./messages\";\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport socket from \"../../utilities/socket\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    chatControls: {\r\n        padding: theme.spacing(0, 2),\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n    typeMessage: {\r\n        [`& fieldset`]: {\r\n            borderRadius: 0,\r\n        },\r\n    },\r\n    chat: {\r\n        /*\r\n        height: 'calc(((100vw - 472px) * 0.5625) + 85px)',\r\n        maxHeight: 'calc(((1700px - 472px) * 0.5625) + 85px)',\r\n        */\r\n        height: '541px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: 400,\r\n        marginLeft: theme.spacing(3),\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 'calc(100% - 56.25vw - 85px)',\r\n            width: 'unset',\r\n            flexGrow: 1,\r\n            margin: 0\r\n        }\r\n    }\r\n}));\r\n\r\nexport default function Chat(props: {room: string}){\r\n    const classes = useStyles();\r\n    const [state, setState] = useState({message: \"\", sendDisabled: true})\r\n\r\n    const handleInputChange = (e : any) => {\r\n        const message = e.target.value as string;\r\n        if(message[0] === '\\n' || message[0] === ' '){\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        if(message.substr(-1) === '\\n'){\r\n            e.preventDefault();\r\n            socket.emit('message', props.room, state.message);\r\n            setState({...state, message: \"\", sendDisabled: true});  \r\n            return;\r\n        }\r\n        else{\r\n            if(message === ''){\r\n                return setState({...state, message, sendDisabled: true});  \r\n            }\r\n            setState({...state, sendDisabled: false, message});\r\n        }\r\n    };\r\n\r\n    const sendMessage = (e: any) => {\r\n        setState({...state, message: \"\", sendDisabled: true});\r\n        socket.emit('message', props.room, state.message);\r\n    }\r\n\r\n    return (\r\n        <Paper square className={classes.chat} variant=\"outlined\">\r\n            <Hidden smDown>\r\n                <Typography align=\"center\" variant=\"h6\">\r\n                    <Box lineHeight={2.5}>CHAT</Box>\r\n                </Typography>\r\n                <Divider />\r\n            </Hidden>\r\n            <Messages room={props.room}/>\r\n            <div className={classes.chatControls}>\r\n                <TextField name=\"message\" value={state.message} variant=\"outlined\" onChange={handleInputChange} className={classes.typeMessage} placeholder=\"Send a message\" multiline rowsMax={4} fullWidth/>\r\n                <Box textAlign=\"right\" marginTop={1}>\r\n                    <IconButton color=\"primary\" onClick={sendMessage} disabled={state.sendDisabled}>\r\n                        <SendIcon/>\r\n                    </IconButton>\r\n                </Box>\r\n            </div>\r\n        </Paper>\r\n    )\r\n}\r\n","import NavBar from '../../components/navbar/navbar';\r\nimport Player from '../../components/player/player';\r\nimport Container from '@material-ui/core/Container';\r\nimport socket from '../../utilities/socket';\r\nimport { useEffect } from 'react';\r\nimport AlertDialog from './dialog';\r\nimport React from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Chat from '../../components/chat/chat';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    maxWithXl: {\r\n        maxWidth: 1700\r\n    },\r\n    container: {\r\n        paddingTop: theme.spacing(2),\r\n        height: `calc(100vh - 64px)`,\r\n        [theme.breakpoints.down('sm')]: {\r\n            padding: 0\r\n        }\r\n    },\r\n    gridContainer: {\r\n        display: 'flex',\r\n        height: '100%',\r\n        [theme.breakpoints.down('sm')]: {\r\n            flexDirection: 'column'\r\n        }\r\n    }\r\n}))\r\n\r\nexport default function Room(props : RouteComponentProps<{room: string}>){\r\n\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    useEffect(() => {\r\n        socket.emit('join-room', localStorage.getItem(\"username\")!, props.match.params.room, (status: number) => {\r\n            if(status === 0){\r\n                setOpen(true);\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            socket.emit('leave', props.match.params.room);\r\n        }\r\n    }, []);\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        props.history.push('/');\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <AlertDialog handleClose={handleClose} open={open}/>\r\n            <NavBar room={props.match.params.room}/>\r\n            <Container maxWidth=\"lg\"  classes={{maxWidthXl: classes.maxWithXl, root: classes.container}}>\r\n                <div className={classes.gridContainer}>\r\n                    <Player room={props.match.params.room}/>\r\n                    <Chat room={props.match.params.room}/>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Home from './views/home/home';\r\nimport Room from './views/room/room';\r\nimport {Route, Switch, BrowserRouter as Router, Redirect} from 'react-router-dom';\r\nimport './utilities/socket';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <CssBaseline>\r\n        <Router>\r\n          <Switch>\r\n            <Route exact component={Home} path=\"/\"/>\r\n            <Route path=\"/room/:room\" render={props => {return <Room {...props}/>}}/>\r\n            <Redirect to=\"/\"/>\r\n          </Switch>\r\n        </Router>\r\n      </CssBaseline>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}